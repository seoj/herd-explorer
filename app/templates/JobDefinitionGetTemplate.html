<div>
    <h1>Find Job Definition</h1>
    <div>
        <form ng-submit="vm.getJobDefinition()">
            <table class="form-table form-table-vertical">
                <tr>
                    <td><label>Namespace</label></td>
                    <td><a ui-sref="NamespaceGet ({namespaceCode:vm.form.namespace})">{{vm.form.namespace}}</a></td>
                </tr>
                <tr>
                    <td><label class="required">Name</label></td>
                    <td><input type="text" ng-model="vm.form.jobName" /></td>
                </tr>
            </table>
            <div>
                <button type="submit">Get Job Definition</button>
            </div>
        </form>
        <div class="error" ng-if="vm.error">{{vm.error}}</div>
        <div ng-if="vm.jobDefinition">
            <h2>Job Definition</h2>
            <div>
                <table>
                    <tr>
                        <td><a ui-sref="JobList (vm.jobDefinitionKey)">Get Jobs</a></td>
                    </tr>
                </table>
            </div>
            <div>
                <table class="data-table data-table-vertical">
                    <tr>
                        <td><label>ID</label></td>
                        <td>{{vm.jobDefinition.id}}</td>
                    </tr>
                    <tr>
                        <td><label>Namespace</label></td>
                        <td>{{vm.jobDefinition.namespace}}</td>
                    </tr>
                    <tr>
                        <td><label>Name</label></td>
                        <td>{{vm.jobDefinition.jobName}}</td>
                    </tr>
                    <tr>
                        <td><label>Description</label></td>
                        <td>{{vm.jobDefinition.description}}</td>
                    </tr>
                    <tr>
                        <td><label>S3 Properties Location</label></td>
                        <td>{{vm.jobDefinition.s3PropertiesLocation}}</td>
                    </tr>
                </table>
                <div ng-if="vm.jobDefinition.parameters.length > 0">
                    <h3>Parameters</h3>
                    <div>
                        <table class="data-table data-table-vertical">
                            <tr ng-repeat="parameter in vm.jobDefinition.parameters">
                                <td><label>{{parameter.name}}</label></td>
                                <td>{{parameter.value}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div>
                    <h3>Activiti Job XML</h3>
                    <div>
                        <highlight value="vm.jobDefinition.activitiJobXml" language="xml"></highlight>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>